# Документация

## Схема API
Open API схема доступна [здесь](api-schema.yaml)

## Компоненты системы

### Описание структуры пакетов
Основные пакеты:
- `core` - пакет с общими компонентами
- `map` - компоненты для работы с картой (объекты, здания, этажи)
- `navigation` - компоненты для работы с навигацией

Общие пакеты:
- `controller` - REST контроллеры
- `service` - сервисы
- `repository` - репозитории для работы с БД
- `model` - модели хранения данных в БД
- `schema` - классы схем для представления данных для клиента
- `enums` - перечисления Java
- `exception` - классы исключений
- `util` - различные утилитарные классы
- `config` - классы конфигураций

### Репозитории

#### MapBuildingRepository
Список доступных методов:
- `findById` - поиск объекта здания на карте по его идентификатору 

  Аргументы:
  * `Long id` - идентификатор здания

  Возвращаемое значение: `Optional<MapBuilding>`

#### MapDomainRepository
- `findById` - поиск объекта пространства на карте по его идентификатору 

  Аргументы:
  * `Long id` - идентификатор пространства

  Возвращаемое значение: `Optional<MapDomain>`

- `findByBuildingId` - поиск объектов по идентификатору здания, к которому они принадлежат

  Аргументы:
  * `Long id` - идентификатор здания
  
  Возвращаемое значение: `List<MapDomain>`

#### MapObjectRepository
- `findById` - поиск объекта на карте по его идентификатору 

  Аргументы:
  * `Long id` - идентификатор объекта

  Возвращаемое значение: `Optional<MapObject>`
  
- `findByDomainId` - поиска объекта по идентификатору пространства
  
  Аргументы:
  * `Long id` - идентификатор пространства

  Возвращаемое значение: `List<MapObject>`

#### NodeRepository
- `findById` - поиск узла графа по его идентификатору 

  Аргументы:
  * `Long id` - идентификатор узла

  Возвращаемое значение: `Optional<NavNode>`

- `findByBuildingId` - поиск всех узлов, принадлежащих одному зданию, по его идентификатору
  
  Аргументы:
  * `Long id` - идентификатор здания

  Возвращаемое значение: `List<NavNode>`

### Сервисы
> TODO

### Контроллеры
> TODO

## Схема базы данных
<img src="https://user-images.githubusercontent.com/36979003/222919825-a5fe799c-85af-4788-bd07-661806db6fdb.png" width="800" />
